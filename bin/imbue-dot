#! /usr/bin/env node

let debug = require('debug')("imbue:dot:main");
let crypto = require('crypto');

let key = crypto.randomBytes(32);



console.log(`Your key: ${key.toString('hex')}`);

let dot = new Dot({
    discoveryKey: key
});

let finder = new Dot({
    discoveryKey: key
});

dot.join({
    announce: true
}).then((cell) => {
    cell.on('connection', () => {
        debug('connected');
    });
}).catch((err) => debug(err));


finder.join({
    lookup: true,
    port: 3286
}).then((cell) => {
    cell.on('connection', () => {
        debug('connected');
    });
}).catch((err) => debug(err));



